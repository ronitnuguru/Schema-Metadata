<template>
  <lightning-card title={cardTitle}>
    <lightning-button-group slot="actions">
      <lightning-button-stateful
        label-when-off="Generate Query"
        label-when-on="Generated Query"
        icon-name-when-off="utility:add"
        icon-name-when-on="utility:check"
        selected={generateQueryState}
        onclick={handleGenerateQuery}
      ></lightning-button-stateful>
      <lightning-button-icon-stateful
        icon-name="action:filter"
        label="Filter"
        onclick={handleFilter}
        selected={likeState}
      ></lightning-button-icon-stateful>
      <lightning-button
        icon-name="action:back"
        label="Cancel"
        onclick={handleCancel}
      ></lightning-button>
    </lightning-button-group>

    <template if:true={generateQueryState}>
      <lightning-card title="Generated Query">
        <div class="slds-box slds-theme_shade">
          {generatedQuery}
        </div>
      </lightning-card>
    </template>

    <div class="slds-m-around_medium">
      <template if:true={dataLoaded}>
          
          
          <code>
          Insert {objectApiName}:<br/>
          &nbsp;&nbsp;sf_object: {objectApiName}<br/>
          &nbsp;&nbsp;table: {objectApiName}<br/>
          &nbsp;&nbsp;fields:<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;Id: sf_id<br/>
              <template for:each={cumulusArrayFields} for:item="field">
                &nbsp;&nbsp;&nbsp;&nbsp;{field.apiName}: {field.apiName}<br key={field.apiName}/>
              </template>
              <template for:each={cumulusArrayRecordType} for:item="field">
                &nbsp;&nbsp;&nbsp;&nbsp;{field.apiName}: {field.apiName}<br key={field.apiName}/>
              </template>

              &nbsp;&nbsp;lookups:<br/>
            <template for:each={cumulusArrayLookup} for:item="field">
              &nbsp;&nbsp;&nbsp;&nbsp;{field.apiName}:<br key={field.apiName}/>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table: {field.parentObject}<br key={field.apiName}/>
                <template if:true={field.selfReference}>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after: Insert {objectApiName}<br key={field.apiName}/>
                </template>
            </template>
          </code>
      </template>
    </div>
  </lightning-card>
</template>